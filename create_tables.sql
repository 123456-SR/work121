-- 创建新扩展表 T_ENTRUSTMENT (存储原 T_ENTRUSTMENT 的字段)
CREATE TABLE T_ENTRUSTMENT (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY, -- 与 JC_CORE_WT_INFO.WT_ID 一一对应
    WT_NUM VARCHAR2(64),
    PROJECT_NAME VARCHAR2(255),
    CLIENT_UNIT VARCHAR2(255),
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    COMMISSION_DATE DATE,
    CLIENT VARCHAR2(64),
    CONSTRUCTION_PART VARCHAR2(255),
    CONSTRUCTION_UNIT VARCHAR2(255),
    BUILDING_UNIT VARCHAR2(255),
    SUPERVISION_UNIT VARCHAR2(255),
    WITNESS_UNIT VARCHAR2(255),
    WITNESS VARCHAR2(64),
    TEST_CATEGORY VARCHAR2(64),
    PROJECT_AREA VARCHAR2(255),
    BEIZHU VARCHAR2(500),
    SAMPLE_NAME VARCHAR2(255),
    
    -- 新增字段 (来自 T_ENTRUSTMENT)
    SAMPLE_NUMBER VARCHAR2(255),
    SPEC VARCHAR2(255),
    MANUFACTURER VARCHAR2(255),
    SAMPLE_QUANTITY VARCHAR2(255),
    REPRESENTATIVE_BATCH VARCHAR2(255),
    BATCH_NUMBER VARCHAR2(255),
    CLIENT_ADDRESS_PHONE VARCHAR2(500),
    REPORT_SEND_MODE VARCHAR2(64),
    REPORT_SEND_USER VARCHAR2(64),
    SAMPLE_DISPOSAL VARCHAR2(64),
    DELIVERY_MODE VARCHAR2(64),
    DELIVERY_DATE VARCHAR2(64),
    FEE VARCHAR2(64),
    SAMPLE_HISTORY VARCHAR2(2000),
    SAMPLE_STATUS VARCHAR2(2000),
    TEST_ITEMS VARCHAR2(2000),
    WITNESS_ID_CARD VARCHAR2(64),
    SAMPLING_MAN_ID_CARD VARCHAR2(64),
    WT_MAN_SIGN CLOB,
    WT_REVIEWER VARCHAR2(64),
    WT_REVIEW_SIGN CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB
);

-- 重建目录表
CREATE TABLE T_SIMPLE_DIRECTORY (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    DIR_ID VARCHAR2(64),
    DIR_NAME VARCHAR2(255),
    TABLE1_TYPE VARCHAR2(64), TABLE1_ID VARCHAR2(64),
    TABLE2_TYPE VARCHAR2(64), TABLE2_ID VARCHAR2(64),
    TABLE3_TYPE VARCHAR2(64), TABLE3_ID VARCHAR2(64),
    TABLE4_TYPE VARCHAR2(64), TABLE4_ID VARCHAR2(64),
    TABLE5_TYPE VARCHAR2(64), TABLE5_ID VARCHAR2(64),
    TABLE6_TYPE VARCHAR2(64), TABLE6_ID VARCHAR2(64),
    TABLE7_TYPE VARCHAR2(64), TABLE7_ID VARCHAR2(64),
    TABLE8_TYPE VARCHAR2(64), TABLE8_ID VARCHAR2(64),
    TABLE9_TYPE VARCHAR2(64), TABLE9_ID VARCHAR2(64),
    TABLE10_TYPE VARCHAR2(64), TABLE10_ID VARCHAR2(64),
    STATUS NUMBER,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    WT_UNDERTAKER VARCHAR2(64),
    WT_REVIEWER VARCHAR2(64),
    JC_FILLER VARCHAR2(64),
    JC_TESTER VARCHAR2(64),
    JC_REVIEWER VARCHAR2(64),
    BG_TESTER VARCHAR2(64),
    BG_REVIEWER VARCHAR2(64),
    BG_APPROVER VARCHAR2(64),
    CREATE_MAN VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_MAN VARCHAR2(64),
    UPDATE_TIME TIMESTAMP
);

-- 重建签名表
CREATE TABLE JZS_SIGNATURE (
    SIGNATURE_ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    USER_ACCOUNT VARCHAR2(64),
    SIGNATURE_TYPE VARCHAR2(64),
    SIGNATURE_BLOB BLOB,
    IMAGE_TYPE VARCHAR2(64),
    IMAGE_SIZE NUMBER,
    CREATE_TIME TIMESTAMP,
    UPDATE_TIME TIMESTAMP,
    REMARKS VARCHAR2(255)
);

-- 重建各类试验数据表 (关联 JC_CORE_WT_INFO)
-- 统一结构：ID, ENTRUSTMENT_ID (关联 JC_CORE_WT_INFO.WT_ID), DATA_JSON 及各表特定字段

CREATE TABLE T_DENSITY_TEST (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    -- 业务字段
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB,
    SOIL_TYPE VARCHAR2(64),
    PIT_VOLUME NUMBER,
    WET_WEIGHT NUMBER,
    DRY_WEIGHT NUMBER,
    WATER_CONTENT NUMBER,
    WET_DENSITY NUMBER,
    DRY_DENSITY NUMBER,
    MAX_DRY_DENSITY NUMBER,
    MIN_DRY_DENSITY NUMBER,
    COMPACTION_COEFFICIENT NUMBER,
    QUALIFIED_RATE NUMBER
);

CREATE TABLE T_NUCLEAR_DENSITY (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB
);

CREATE TABLE T_SAND_REPLACEMENT (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB
);

CREATE TABLE T_WATER_REPLACEMENT (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB
);

CREATE TABLE T_CUTTING_RING (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB
);

CREATE TABLE T_REBOUND_METHOD (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB
);

CREATE TABLE JZS_LIGHT_DYNAMIC_PENETRATION (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    ENTRUSTING_UNIT VARCHAR2(200),
    PROJECT_NAME VARCHAR2(200),
    ENTRUST_DATE DATE,
    CONSTRUCTION_PART VARCHAR2(200),
    TEST_DATE DATE,
    SOIL_PROPERTY VARCHAR2(200),
    REPORT_DATE DATE,
    WITNESS_UNIT VARCHAR2(200),
    WITNESS VARCHAR2(100),
    DESIGN_CAPACITY VARCHAR2(200),
    HAMMER_WEIGHT VARCHAR2(100),
    DROP_DISTANCE VARCHAR2(100),
    TEST_CATEGORY VARCHAR2(100),
    TEST_BASIS VARCHAR2(500),
    EQUIPMENT VARCHAR2(500),
    REMARKS VARCHAR2(1000),
    APPROVE VARCHAR2(100),
    REVIEW VARCHAR2(100),
    INSPECT VARCHAR2(100),
    COMPANY_NAME VARCHAR2(200),
    CONCLUSION VARCHAR2(1000),
    DATA_BLOCKS CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    STATUS NUMBER(10),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP
);

CREATE TABLE T_BECKMAN_BEAM (
    ID VARCHAR2(64) NOT NULL PRIMARY KEY,
    ENTRUSTMENT_ID VARCHAR2(64),
    DATA_JSON CLOB,
    STATUS VARCHAR2(64),
    REJECT_REASON VARCHAR2(500),
    NEXT_HANDLER VARCHAR2(64),
    TESTER_SIGNATURE_PHOTO CLOB,
    REVIEW_SIGNATURE_PHOTO CLOB,
    INSPECT_SIGNATURE_PHOTO CLOB,
    APPROVE_SIGNATURE_PHOTO CLOB,
    CREATE_BY VARCHAR2(64),
    CREATE_TIME TIMESTAMP,
    UPDATE_BY VARCHAR2(64),
    UPDATE_TIME TIMESTAMP,
    TESTER VARCHAR2(64),
    REVIEWER VARCHAR2(64),
    APPROVER VARCHAR2(64),
    FILLER VARCHAR2(64),
    RECORD_TESTER VARCHAR2(64),
    RECORD_REVIEWER VARCHAR2(64),
    RECORD_REVIEW_SIGN CLOB
);
